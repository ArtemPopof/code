---

language: node_js

node_js:
  - lts/*

sudo: required

services:
  - docker

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - libstdc++-5-dev

install:
  - cd ~/ && git clone https://github.com/elementary/houston
  - cd ~/houston && git checkout v2-build-fix
  - cd ~/houston && npm ci
  - cd ~/houston && npm run build

script:
  - ~/houston/dest/bin.js ci
    --type system-app
    --name-appstream io.elementary.code.desktop
    --name-domain io.elementary.code
    --name-human Code
